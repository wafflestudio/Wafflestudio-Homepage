/**
 * Aga v1.03
 * http://squareflower.de/downloads/jquery/aga/
 *
 * Copyright 2010, Lukas Rydygel
 * Attribution-ShareAlike 3.0 Unported
 * http://creativecommons.org/licenses/by-sa/3.0/
 */
(function(d){d.fn.aga=function(n){var l=function(){},j=[];j.horizontal=["aga-horizontal","aga-horizontal-item","aga-horizontal-item-open"];j.vertical=["aga-vertical","aga-vertical-item","aga-vertical-item-open"];var a={easing:["",""],size:{min:20,max:"variable"},handler:function(b){return d(b)},orientation:"horizontal",direction:"left",start:0,action:"click",stayOpen:true,animationTime:500,hoverTime:500,items:"li",open:{before:l,each:l,after:l},close:{before:l,each:l,after:l}},o=a.start,m,f={_getItems:function(){return d(this).children(a.items)}, _getSize:function(){switch(a.orientation){case "horizontal":return d(this).width();case "vertical":return d(this).height()}},_getAnimationProperties:function(b,e){switch(b){case "top":return{top:e};case "right":return{right:e};case "bottom":return{bottom:e};case "left":return{left:e};case "horizontal":return{width:e};case "vertical":return{height:e}}},_setOptions:function(b){d.extend(true,a,n);d(this).data("aga-settings",a)},_getOptions:function(){return d(this).data("aga-settings")},options:function(b){return typeof b=== "object"?f._setOptions.apply(this,[b]):f._getOptions.apply(this)},init:function(b){f._setOptions.apply(this,[b]);d(this).data("aga-pointer",o).addClass(j[a.orientation][0]);var e=this,c=f._getItems.apply(this),g;for(b=0;b<c.length;b++)(function(h){g=typeof a.handler=="function"?a.handler(c[h]):null;d(c[h]).addClass(j[a.orientation][1]);if(g)switch(a.action){case "click":g.bind("click",function(){o=d(e).data("aga-pointer");h==o&&!a.stayOpen?f.close.apply(e,[h,false]):f.open.apply(e,[h,false])});break; case "hover":d(e).hover(function(){clearTimeout(m)},function(){clearTimeout(m);m=setTimeout(function(){a.stayOpen||f.close.apply(e,[h,false])},a.hoverTime)});g.hover(function(){clearTimeout(m);m=setTimeout(function(){f.open.apply(e,[h,false])},a.hoverTime)})}})(b);a.start==null?f.close.apply(this,[null,true]):f.open.apply(this,[a.start,true])},close:function(b,e){d(this).data("aga-pointer",null);var c=f._getItems.apply(this),g=f._getAnimationProperties(a.orientation,c.length*a.size.min),h=e?0:a.animationTime; d(this).animate(g,h,a.easing[1]);a.close.before(c,b);for(var i=0;i<c.length;i++){g=i*a.size.min;g=f._getAnimationProperties(a.direction,g);d(c[i]).animate(g,h,a.easing[1],function(){a.close.each(c,i,b)});d(c[i]).removeClass(j[a.orientation][2])}a.close.after(c,b)},open:function(b,e){d(this).data("aga-pointer",b);var c=f._getItems.apply(this),g=a.size.max=="variable"?f._getSize.apply(c[b]):a.size.max,h=e?0:a.animationTime,i=f._getAnimationProperties(a.orientation,a.size.max=="variable"?(c.length-1)* a.size.min+g:(c.length-1)*a.size.min+a.size.max);d(this).animate(i,h,a.easing[0]);a.open.before(c,b);for(var k=0;k<c.length;k++){i=k<=b?k*a.size.min:(k-1)*a.size.min+g;i=f._getAnimationProperties(a.direction,i);d(c[k]).animate(i,h,a.easing[0],function(){a.open.each(c,k,b)}).removeClass(j[a.orientation][2]);k==b&&d(c[k]).addClass(j[a.orientation][2])}a.open.after(c,b)},destroy:function(){var b=f._getItems.apply(this),e;d(this).removeClass(j[a.orientation][0]);for(var c=0;c<b.length;c++)(function(g){e= typeof a.handler=="function"?a.handler(b[g]):null;d(b[g]).removeClass(j[a.orientation][0]+" "+j[a.orientation][1]);if(e)switch(a.action){case "click":e.unbind("click");break;case "hover":d(this).unbind("mouseenter mouseleave");e.unbind("mouseenter")}})(c)}};return this.each(function(){if(f[n]){a=f._getOptions.apply(this);o=d(this).data("aga-pointer");f[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n)f.init.apply(this,arguments)})}})(jQuery);
